{"version":3,"sources":["../src/utils/html-string-to-react.ts"],"sourcesContent":["import type { DOMNode } from \"html-react-parser\";\nimport parse from \"html-react-parser\";\nimport * as React from \"react\";\n\nexport type HtmlStringToReactResult = ReturnType<typeof parse>;\n\nconst isScriptNode = (domNode: DOMNode): boolean => {\n  if (\"type\" in domNode && domNode.type === \"script\") {\n    return true;\n  }\n\n  if (\"name\" in domNode && typeof domNode.name === \"string\") {\n    return domNode.name.toLowerCase() === \"script\";\n  }\n\n  return false;\n};\n\n/**\n * HTML 文字列を React ノードに変換し、`script` タグを除去する。\n *\n * @param html - 変換対象の HTML 文字列\n * @returns React 要素、文字列、もしくは空配列\n */\nexport function htmlStringToReact(html: string): HtmlStringToReactResult {\n  return parse(html, {\n    replace: (domNode) => {\n      if (isScriptNode(domNode)) {\n        return React.createElement(React.Fragment);\n      }\n\n      return undefined;\n    },\n  });\n}\n"],"mappings":";AACA,OAAO,WAAW;AAClB,YAAY,WAAW;AAIvB,IAAM,eAAe,CAAC,YAA8B;AAClD,MAAI,UAAU,WAAW,QAAQ,SAAS,UAAU;AAClD,WAAO;AAAA,EACT;AAEA,MAAI,UAAU,WAAW,OAAO,QAAQ,SAAS,UAAU;AACzD,WAAO,QAAQ,KAAK,YAAY,MAAM;AAAA,EACxC;AAEA,SAAO;AACT;AAQO,SAAS,kBAAkB,MAAuC;AACvE,SAAO,MAAM,MAAM;AAAA,IACjB,SAAS,CAAC,YAAY;AACpB,UAAI,aAAa,OAAO,GAAG;AACzB,eAAa,oBAAoB,cAAQ;AAAA,MAC3C;AAEA,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACH;","names":[]}